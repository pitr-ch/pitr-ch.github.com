<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: git | Pitr.ch]]></title>
  <link href="http://blog.pitr.ch/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://blog.pitr.ch/"/>
  <updated>2013-06-05T10:17:58+02:00</updated>
  <id>http://blog.pitr.ch/</id>
  <author>
    <name><![CDATA[Petr Chalupa]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How to find pull-request by a commit sha]]></title>
    <link href="http://blog.pitr.ch/blog/2013/05/15/how-to-find-pull-request-by-a-commit-sha/"/>
    <updated>2013-05-15T11:00:00+02:00</updated>
    <id>http://blog.pitr.ch/blog/2013/05/15/how-to-find-pull-request-by-a-commit-sha</id>
    <content type="html"><![CDATA[<!-- more -->

<p>Lets have a commit <code>E</code> which is in some unknown pull-request.
<code>--ancestry-path</code> option can be used to list all commits between master and <code>E</code></p>
<div class="highlight"><pre><code class="text">git log --ancestry-path master ^E
</code></pre></div>
<p>for:</p>
<div class="highlight"><pre><code class="text">A last commit in master
B Merge pull request #2258 ...
|\
C | some comiit in master
| D onther commit in searched pull-request
| E given commit
</code></pre></div>
<p>it returns:</p>
<div class="highlight"><pre><code class="text">A last commit in master
B Merge pull request #2258 ...
D onther commit in searched pull-request
</code></pre></div>
<p>If last merge commit from the list is taken we get the merge commit for <code>E</code> with searched pull-request number.
To do that we use options:</p>
<div class="highlight"><pre><code class="text">git log --reverse --grep=\&quot;Merge pull request\&quot; -n 1 --ancestry-path master ^E
</code></pre></div>
<p>which returns only <code>B Merge pull request #2258</code> the merge commit with search pull-request number.</p>

<h2>Git Alias</h2>

<p>For convenience it can be turned into git alias.</p>
<div class="highlight"><pre><code class="text">logpr = !sh -c &#39;git log --reverse --grep=\&quot;Merge pull request\&quot; -n 1 \
    --ancestry-path master ^$1 $@&#39; -
</code></pre></div>
<p>Then</p>
<div class="highlight"><pre><code class="text">$ git logpr 4b6d8f9 --oneline
d2a35bc Merge pull request #2258 from daviddavis/temp_1368456830
</code></pre></div>
<h2>Caution</h2>

<p>This works only if all pull-requests are merged directly into master. </p>
]]></content>
  </entry>
  
</feed>
